<html>
	<head>
		<meta charset="utf-8">
		<title>영수증</title>
		<script>
				var itemname = new Array("해피홈 aaa핸드크림","원형 유리화병","상투과자E","더블링 나일론 깡 롤","해피홈 핸드워시","농심 신라면", 
					"국내산삽겹살","오뚜기 진비빔면 156g", "GAP 죽장사과 6입", "순 유기농 바나나","피코크 들깨미역국","남양 맛있는 우유GT",
					"녹차원흑당시럽10입", "진라면 소컵(매)65g*6","케라시스 앱플 트리트먼트","푸르밀 미숫가루우유","자일갈색설탕500g","CJ 비비고칩",
					"피코크 들깨고기500","흑원당 말차 밀크티","1+ 등급란 10개입 특","동원양반볶음", "목캔디 허브민트", "원링노트 3매유선",
					"광동)감귤500ML","허쉬초코바","애호박","논산양상추","홀스상쾌한민트향","농심닭다리너겟");
				var price = new Array(10000,6900,5980,3300,5500,3380,6610,2750,10800,4980,3980,4480,
						         4980,3210,6950,2980,1990,1980,3980,4480,3480,7980,700,1000,
						         1600,4000,1360,1180,3180,9990);
				var num = new Array(2,10,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,3,1,2,1,1,1,2);
				var tax = new Array(true,true,true,true,true,true,null,true,null,null,true,null,
					true,true,true,true,true,true,true,true,true,true,true,true,
					true,true,null,null,true,true);
			function main(){	
				document.write("<table border=0 width =330>");
				
				for(var i =0; i<itemname.length; i++){
					document.write("<tr>");

					document.write("<td width=5>");
						if(tax[i]==null){ 
							document.write("*"); 
						} else {
							document.write(" "); 
						}
					document.write("</td>");
					
					document.write("<td width=180>");
					document.write(itemname[i].substr(0,11))
					document.write("</td>");
					document.write("<td width=50 align=right>");
					document.write(priceToString(price[i]))
					document.write("</td>");
					document.write("<td width=30 align=right>");
					document.write(num[i])
					document.write("</td>");
					document.write("<td width=60 align=right>");
					document.write(priceToString(num[i]*price[i]));
					document.write("</td>");
					
					document.write("</tr>");
					if((i+1)%5==0) { //상품이 5개마다 줄 넣기
					document.write("<tr><td colspan=5><hr width =330 align=left></td></tr>");
					}
				}
				
				document.write("</table>");
			}
			function priceToString(price) { //가격 콤마찍는 함수
					return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
			}
			
			function calculator(){	
				var dutyfree = 0; 
				var duty = 0; 
				for(var i=0; i<itemname.length; i++) {
					if(tax[i]== null) { // 면세 총 가격 구하기
						dutyfree+=price[i]*num[i];
					} else { // 비면세 총 가격 구하기
						duty+=price[i]*num[i];
					}
				}
				function netprice(kopo41_price) {
					return parseInt(kopo41_price/(1.1)); // 세전가격을 정수화 해서 소수점을 버린다.
				}
			
				document.write("<table border=0 width =330>");
				document.write("<tr>");
				document.write("<td width =250 align=right>총 품목 수량</td>");
				document.write("<td width =80 align=right>"+itemname.length+"</td>");
				document.write("</tr>");
				document.write("<tr>");
				document.write("<td width =250 align=right>(*)면&nbsp;세&nbsp;&nbsp;물&nbsp;&nbsp;품</td>");
				document.write("<td width =80 align=right>"+ priceToString(dutyfree)+"</td>");
				document.write("</tr>");
				document.write("<tr>");
				document.write("<td width =250 align=right>과&nbsp;세&nbsp;&nbsp;물&nbsp;&nbsp;품</td>");
				document.write("<td width =80 align=right>"+ priceToString(netprice(duty))+"</td>");
				document.write("</tr>");
				document.write("<tr>");
				document.write("<td width =250 align=right>부&nbsp;&nbsp;&nbsp;&nbsp;가&nbsp;&nbsp;&nbsp;&nbsp;세</td>");
				document.write("<td width =80 align=right>"+ priceToString(duty-netprice(duty))+"</td>");
				document.write("</tr>");
				document.write("<tr>");
				document.write("<td width =250 align=right>합&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; 계</td>");
				document.write("<td width =80 align=right>"+ priceToString(duty+dutyfree)+"</td>");
				document.write("</tr>");
				document.write("<td width =250 align=left>&nbsp;&nbsp;결&nbsp;&nbsp;제&nbsp;&nbsp;대&nbsp;&nbsp;상&nbsp;&nbsp;금&nbsp;&nbsp;액</td>");
				document.write("<td width =80 align=right>"+ priceToString(duty+dutyfree)+"</td>");
				document.write("</tr>");
				document.write("</table>");
				
				document.write("<hr width =330 align=left>");
				document.write("<table border=0 width =330>");
				document.write("<tr>");
				document.write("<td width =250 align=left>0012 KEB 하나</td>");
				document.write("<td width =80 align=right>541707**0484/35860658</td>");
				document.write("</tr>");
				document.write("<tr>");
				document.write("<td width =250 align=left>카드결제(IC)</td>");
				document.write("<td width =80 align=right>일시불 / "+ priceToString(duty+dutyfree)+"</td>");
				document.write("</tr>");
				document.write("</table>");
				document.write("<hr width =330 align=left>");
				
				
				document.write("<table border=0 width =330>");
				document.write("<tr>");
				document.write("<td width =200 align=center colspan=2>[신세계 포인트 적립]</td>");
				document.write("</tr>");
				document.write("<tr>");
				document.write("<td width =200 align=left colspan=2>최*솔 고객님의 포인트 현황입니다.</td>");
				document.write("</tr>");
				document.write("<tr>");
				document.write("<td width =200 align=left>금회발생포인트</td>");
				document.write("<td width =130 align=right>9350**9965&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+parseInt((duty+dutyfree)*0.001)+"</td>");
				document.write("</tr>");
				document.write("<tr>");
				document.write("<td width =200 align=left>누계(가용)포인트</td>");
				document.write("<td width =130 align=right>"+priceToString(5473+(parseInt((duty+dutyfree)*0.001)))+"(&nbsp;&nbsp;&nbsp;5,473)</td>");
				document.write("</tr>");
				document.write("</table>");
			}
			function date1(){
				var d1 = new Date();
				var year = d1.getFullYear();
				var month = ("0" + (1 + d1.getMonth())).slice(-2);
				var day = ("0" + d1.getDate()).slice(-2);
				var hour = ("0" + d1.getHours()).slice(-2);
				var minute = ("0" + d1.getMinutes()).slice(-2);
				var second = ("0" + d1.getSeconds()).slice(-2);
				var formatD1 = "" + year+ "-" + month +"-"+ day +" "+ hour+":"+ minute;
				document.write(formatD1);
			}
			function date2(){
				var d1 = new Date();
				var year = d1.getFullYear();
				var month = ("0" + (1 + d1.getMonth())).slice(-2);
				var day = ("0" + d1.getDate()).slice(-2);
				var hour = ("0" + d1.getHours()).slice(-2);
				var minute = ("0" + d1.getMinutes()).slice(-2);
				var second = ("0" + d1.getSeconds()).slice(-2);
				var formatD2 = "" + year+ "-" + month +"-"+ day +" "+ hour+":"+ minute+":"+second;
				document.write(formatD2);
			}
			function date3(){
				var d1 = new Date();
				var year = d1.getFullYear();
				var month = ("0" + (1 + d1.getMonth())).slice(-2);
				var day = ("0" + d1.getDate()).slice(-2);
				var hour = ("0" + d1.getHours()).slice(-2);
				var minute = ("0" + d1.getMinutes()).slice(-2);
				var second = ("0" + d1.getSeconds()).slice(-2);
				var formatD3 = "" + year+month+day;
				document.write(formatD3);
			}
		</script>
	</head>
	<body>
	
			<table border="0" width ="330">
				<tr>
					<td align ="center" rowspan="6" width="100">emart</td>
					<td align="left" >이마트 죽전점 (031)888-1234</td>
				<tr>
				<tr>
					<td align="left">206-86-50913 강희석</td>
				<tr>
				<tr>
					<td align="left">용인 수지구 포은대로 552</td>
				<tr>
			</table>
			<br>
			<table border="0" width ="330">
				<tr>
					<td align="left" >영수증 미지참시 교환/환불 불가</td>
				<tr>
				<tr>
					<td align="left">정상상품에 한함, 30일 이내(신선 7일)</td>
				<tr>
				<tr>
					<td align="left">※일부 브랜드매장 제외(매장 고지물참조)</td>
				<tr>
				<tr>
					<td align="left">교환/환불 구매점에서 가능(결제카드 지참)</td>
				<tr>
			</table>
			<table border="0" width ="330">
				<tr>
					<td align="left" >[구 매] <script>date1()</script></td>
					<td align="right" >POS:0011-9861</td>
				<tr>
			</table>
			<hr width ="330" align="left">
			<table border="0" width ="330">
				<tr>
					<td width ="180" align="center">상 품 명</td>
					<td width ="50" align="right">단 가</td>
					<td width ="40" align="right">수량</td>
					<td width ="60" align="right">금 액</td>
				<tr>
			</table>
			<hr width ="330" align="left">
			<script>
			main();
			</script>
			<br>
			<script>
			calculator();
			</script>
			<hr width ="330" align="left">
			<table border="0" width ="330">
				<tr>
					<td colspan="2" align="center">구매금액기준 무료주차시간 자동부여</td>
				<tr>
				<tr>
					<td width = "100" align="left">차량번호 : </td>
					<td width = "230" align="right">34저**** </td>
				<tr>
				<tr>
					<td width = "100" align="left">입차시간 : </td>
					<td width = "230" align="right"><script>date2()</script></td>
				<tr>
			</table>
			<hr width ="330" align="left">
			<table border="0" width ="330">
				<tr>
					<td width = "200" align="left">캐셔:084599 양ㅇㅇ</td>
					<td width = "130" align="right">1150</td>
				<tr>
				<tr>
					<td colspan="2" align="center"><script>date3()</script>/00119861/00164980/31</td>
				<tr>
			</table>
	</body>
</html>

















